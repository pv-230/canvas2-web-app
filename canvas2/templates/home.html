<!-- This file represents the homepage content. -->

<!-- HTML head extension -->
{% extends "index.html" %}
{% block title %}Home{% endblock %}
{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/home.css') }}">
  <script defer src="{{ url_for('static', filename='scripts/home.js') }}"></script>
{% endblock %}

<!-- Content -->
{% block content %}
  <div class="main-content">
    <h2 class="content-title">Courses - {{ session['username'] }}</h2>
    <div class="course-grid">
      {% for course in courses %}
        <a href="{{ url_for('frontend.course_page', code=course['_id']) }}">
          <div class="course-card">
            <div class="course-code">{{ course["code"] }}</div>
            <div class="course-title">{{ course["title"] }}</div>
          </div>
        </a>
      {% endfor %}
      {% if role == "teacher" %}
        <!-- Button to add additional courses for teachers -->
        <button class="add-course-card" type="button">
          <div class="add-icon-frame">
            <img
              class="add-icon"
              src="{{ url_for('static', filename='images/plus-sign.svg') }}"
              alt="Plus sign"
            />
          </div>
          <span>Add course</span>
        </button>
      {% endif %}
    </div>
  </div>

  {% if role == "teacher" %}
    <!-- New course popup form for teachers-->
    <div class="add-course-bg" hidden>
      <div class="add-course-frame">
        <div class="form-header">
          <h3>Add Course</h3>
          <div class="close-btn-frame"></div>
        </div>
        <form id="add-course-form" action="{{ url_for('frontend.add_course') }}" method="POST">
            <div class="form-input-group">
              <label for="course-name">Course name</label>
              <input type='text' id="course-name" name="course-name" required>
            </div>
            <button class="add-course-btn" type="submit">Add</button>
        </form>
      </div>
    </div>
  {% endif %}
{% endblock %}
